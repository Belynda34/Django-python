{% extends 'events/layout.html' %}

{% block content %}
<div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold text-red-800 mb-6">Delete Event</h1>
    
    {% if messages %}
    <div class="mb-4">
        {% for message in messages %}
            <div class="bg-green-200 text-green-800 p-2 rounded mb-2">
                {{ message }}
            </div>
        {% endfor %}
    </div>
    {% endif %}

    <p class="text-gray-700">Are you sure you want to delete the event: <strong>{{ event.name }}</strong>?</p>

    {% if attendees %}
    <h2 class="text-lg font-semibold mt-6">Attendees:</h2>
    <ul class="list-disc ml-5">
        {% for attendee in attendees %}
            <li class="text-gray-700">{{ attendee.name }}</li>  <!-- Adjust this line based on your Attendee model -->
        {% endfor %}
    </ul>
    {% else %}
    <p class="text-gray-700">No attendees registered for this event.</p>
    {% endif %}

    <form method="POST" class="mt-4">
        {% csrf_token %}
        <button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
            Yes, Delete
        </button>
        <a href="{% url 'event_list' %}" class="ml-4 text-blue-500">Cancel</a>
    </form>
</div>
{% endblock %}
